<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/obj/machinery/big_manipulator - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="obj/machinery/big_manipulator.html#var">Var Details</a> - <a href="obj/machinery/big_manipulator.html#proc">Proc Details</a></header><main><h1>big_manipulator <aside>/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/big_manipulator.html">big_manipulator</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L2"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 2"></a></h1><p>Manipulator Core. Main part of the mechanism that carries out the entire process.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/containment_obj">containment_obj</a></th><td>Obj inside manipulator.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/drop_here">drop_here</a></th><td>Dir to get turf where we drop items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/drop_turf">drop_turf</a></th><td>Turf where we drop items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/manipulator_hand">manipulator_hand</a></th><td>Other manipulator component.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/on">on</a></th><td>Activate mechanism.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/on_work">on_work</a></th><td>When manipulator already working with item inside he don't take any new items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/power_use_lvl">power_use_lvl</a></th><td>Using high tier manipulators speeds up big manipulator and requires more energy.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/take_here">take_here</a></th><td>Dir to get turf where we take items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/take_turf">take_turf</a></th><td>Turf where we take items.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#var/working_speed">working_speed</a></th><td>How many time manipulator need to take and drop item.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/create_manipulator_hand">create_manipulator_hand</a></th><td>Creat manipulator hand effect on manipulator core.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/do_rotate_animation">do_rotate_animation</a></th><td>Rotates manipulator hand 90 degrees.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/drop_thing">drop_thing</a></th><td>Third take and drop proc from [take and drop procs loop]:
Drop our item and start manipulator hand backward animation.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/end_work">end_work</a></th><td>Fourth and last take and drop proc from [take and drop procs loop]:
Finishes work and begins to look for a new item for [take and drop procs loop].</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/finish_rotate_animation">finish_rotate_animation</a></th><td>Rotates manipulator hand from 90 degrees to 180 or 0 if backward.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/is_work_check">is_work_check</a></th><td>Pre take and drop proc from [take and drop procs loop]:
Check if we can start take and drop loop</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/manipulator_lvl">manipulator_lvl</a></th><td>Check servo tier and change manipulator speed, power_use and colour.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/on_hand_qdel">on_hand_qdel</a></th><td>Deliting hand will destroy our manipulator core.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/press_on">press_on</a></th><td>Proc call when we press on/off button</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/rotate_big_hand">rotate_big_hand</a></th><td>Changing take and drop turf dirs and also changing manipulator hand sprite dir.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/start_work">start_work</a></th><td>Second take and drop proc from [take and drop procs loop]:
Taking our item and start manipulator hand rotate animation.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/take_and_drop_turfs_check">take_and_drop_turfs_check</a></th><td>Changing take and drop turf tiles when we anchore manipulator or if manipulator not in turf.</td></tr><tr><th><a href="obj/machinery/big_manipulator.html#proc/try_take_thing">try_take_thing</a></th><td>First take and drop proc from [take and drop procs loop]:
Check if we can take item from take_turf to work with him. This proc also calling from ATOM_ENTERED signal.</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/containment_obj"><aside class="declaration">var </aside>containment_obj <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L28"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 28"></a></h3><p>Obj inside manipulator.</p><h3 id="var/drop_here"><aside class="declaration">var </aside>drop_here <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L22"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 22"></a></h3><p>Dir to get turf where we drop items.</p><h3 id="var/drop_turf"><aside class="declaration">var </aside>drop_turf <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L26"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 26"></a></h3><p>Turf where we drop items.</p><h3 id="var/manipulator_hand"><aside class="declaration">var </aside>manipulator_hand <aside>– /<a href="obj.html">obj</a>/effect</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L32"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 32"></a></h3><p>Other manipulator component.</p><h3 id="var/on"><aside class="declaration">var </aside>on <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L18"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 18"></a></h3><p>Activate mechanism.</p><h3 id="var/on_work"><aside class="declaration">var </aside>on_work <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L16"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 16"></a></h3><p>When manipulator already working with item inside he don't take any new items.</p><h3 id="var/power_use_lvl"><aside class="declaration">var </aside>power_use_lvl <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L14"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 14"></a></h3><p>Using high tier manipulators speeds up big manipulator and requires more energy.</p><h3 id="var/take_here"><aside class="declaration">var </aside>take_here <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L20"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 20"></a></h3><p>Dir to get turf where we take items.</p><h3 id="var/take_turf"><aside class="declaration">var </aside>take_turf <aside>– /<a href="turf.html">turf</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L24"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 24"></a></h3><p>Turf where we take items.</p><h3 id="var/working_speed"><aside class="declaration">var </aside>working_speed <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L12"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 12"></a></h3><p>How many time manipulator need to take and drop item.</p><h2 id="proc">Proc Details</h2><h3 id="proc/create_manipulator_hand"><aside class="declaration">proc </aside>create_manipulator_hand<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L104"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 104"></a></aside></h3><p>Creat manipulator hand effect on manipulator core.</p><h3 id="proc/do_rotate_animation"><aside class="declaration">proc </aside>do_rotate_animation<aside>(backward)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L229"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 229"></a></aside></h3><p>Rotates manipulator hand 90 degrees.</p><h3 id="proc/drop_thing"><aside class="declaration">proc </aside>drop_thing<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L217"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 217"></a></aside></h3><p>Third take and drop proc from [take and drop procs loop]:
Drop our item and start manipulator hand backward animation.</p><h3 id="proc/end_work"><aside class="declaration">proc </aside>end_work<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L224"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 224"></a></aside></h3><p>Fourth and last take and drop proc from [take and drop procs loop]:
Finishes work and begins to look for a new item for [take and drop procs loop].</p><h3 id="proc/finish_rotate_animation"><aside class="declaration">proc </aside>finish_rotate_animation<aside>(backward)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L234"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 234"></a></aside></h3><p>Rotates manipulator hand from 90 degrees to 180 or 0 if backward.</p><h3 id="proc/is_work_check"><aside class="declaration">proc </aside>is_work_check<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L173"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 173"></a></aside></h3><p>Pre take and drop proc from [take and drop procs loop]:
Check if we can start take and drop loop</p><h3 id="proc/manipulator_lvl"><aside class="declaration">proc </aside>manipulator_lvl<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L110"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 110"></a></aside></h3><p>Check servo tier and change manipulator speed, power_use and colour.</p><h3 id="proc/on_hand_qdel"><aside class="declaration">proc </aside>on_hand_qdel<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L166"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 166"></a></aside></h3><p>Deliting hand will destroy our manipulator core.</p><h3 id="proc/press_on"><aside class="declaration">proc </aside>press_on<aside>(pressed_by)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L238"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 238"></a></aside></h3><p>Proc call when we press on/off button</p><h3 id="proc/rotate_big_hand"><aside class="declaration">proc </aside>rotate_big_hand<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L148"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 148"></a></aside></h3><p>Changing take and drop turf dirs and also changing manipulator hand sprite dir.</p><h3 id="proc/start_work"><aside class="declaration">proc </aside>start_work<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L208"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 208"></a></aside></h3><p>Second take and drop proc from [take and drop procs loop]:
Taking our item and start manipulator hand rotate animation.</p><h3 id="proc/take_and_drop_turfs_check"><aside class="declaration">proc </aside>take_and_drop_turfs_check<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L139"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 139"></a></aside></h3><p>Changing take and drop turf tiles when we anchore manipulator or if manipulator not in turf.</p><h3 id="proc/try_take_thing"><aside class="declaration">proc </aside>try_take_thing<aside>(/<a href="datum.html">datum</a>/source, /<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/machinery/big_manipulator.dm#L186"><img src="git.png" width="16" height="16" title="code/game/machinery/big_manipulator.dm 186"></a></aside></h3><p>First take and drop proc from [take and drop procs loop]:
Check if we can take item from take_turf to work with him. This proc also calling from ATOM_ENTERED signal.</p></main><footer>tgstation.dme <a href="https://github.com/Skyrat-SS13/Skyrat-tg/tree/e507f9120bb0c3beecfe169d14193d90e7229a58">e507f91</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>