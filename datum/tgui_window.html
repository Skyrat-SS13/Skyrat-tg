<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/tgui_window - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/tgui_window.html#var">Var Details</a> - <a href="datum/tgui_window.html#proc">Proc Details</a></header><main><h1>tgui_window <aside>/<a href="datum.html">datum</a>/<a href="datum/tgui_window.html">tgui_window</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 6"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/tgui_window.html#var/byondToTguiEventMap">byondToTguiEventMap</a></th><td>Static list used to map in macros that will then emit execute events to the tgui window
A small disclaimer though I'm no tech wiz: I don't think it's possible to map in right or middle
clicks in the current state, as they're keywords rather than modifiers.</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/tgui_window.html#proc/New">New</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/acquire_lock">acquire_lock</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/can_be_suspended">can_be_suspended</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/close">close</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/flush_message_queue">flush_message_queue</a></th><td>private</td></tr><tr><th><a href="datum/tgui_window.html#proc/initialize">initialize</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/is_ready">is_ready</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/on_message">on_message</a></th><td>private</td></tr><tr><th><a href="datum/tgui_window.html#proc/reinitialize">reinitialize</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/release_lock">release_lock</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/replace_html">replace_html</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/send_asset">send_asset</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/send_message">send_message</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/send_raw_message">send_raw_message</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/subscribe">subscribe</a></th><td>public</td></tr><tr><th><a href="datum/tgui_window.html#proc/unsubscribe">unsubscribe</a></th><td>public</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/byondToTguiEventMap"><aside class="declaration">var </aside>byondToTguiEventMap <aside>– /static/list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 34"></a></h3><p>Static list used to map in macros that will then emit execute events to the tgui window
A small disclaimer though I'm no tech wiz: I don't think it's possible to map in right or middle
clicks in the current state, as they're keywords rather than modifiers.</p><h2 id="proc">Proc Details</h2><h3 id="proc/New">New<aside>(/<a href="client.html">client</a>/client, id, pooled)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 49"></a></aside></h3><p>public</p>
<p>Create a new tgui window.</p>
<p>required client /client
required id string A unique window identifier.</p><h3 id="proc/acquire_lock"><aside class="declaration">proc </aside>acquire_lock<aside>(/<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L187"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 187"></a></aside></h3><p>public</p>
<p>Acquire the window lock. Pool will not be able to provide this window
to other UIs for the duration of the lock.</p>
<p>Can be given an optional tgui datum, which will be automatically
subscribed to incoming messages via the on_message proc.</p>
<p>optional ui /datum/tgui</p><h3 id="proc/can_be_suspended"><aside class="declaration">proc </aside>can_be_suspended<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L169"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 169"></a></aside></h3><p>public</p>
<p>Checks if the window can be sanely suspended.</p>
<p>return bool</p><h3 id="proc/close"><aside class="declaration">proc </aside>close<aside>(can_be_suspended)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L232"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 232"></a></aside></h3><p>public</p>
<p>Close the UI.</p>
<p>optional can_be_suspended bool</p><h3 id="proc/flush_message_queue"><aside class="declaration">proc </aside>flush_message_queue<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L323"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 323"></a></aside></h3><p>private</p>
<p>Sends queued messages if the queue wasn't empty.</p><h3 id="proc/initialize"><aside class="declaration">proc </aside>initialize<aside>(strict_mode, fancy, assets, inline_html, inline_js, inline_css)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L71"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 71"></a></aside></h3><p>public</p>
<p>Initializes the window with a fresh page. Puts window into the &quot;loading&quot;
state. You can begin sending messages right after initializing. Messages
will be put into the queue until the window finishes loading.</p>
<p>optional strict_mode bool - Enables strict error handling and BSOD.
optional fancy bool - If TRUE and if this is NOT a panel, will hide the window titlebar.
optional assets list - List of assets to load during initialization.
optional inline_html string - Custom HTML to inject.
optional inline_js string - Custom JS to inject.
optional inline_css string - Custom CSS to inject.</p><h3 id="proc/is_ready"><aside class="declaration">proc </aside>is_ready<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L159"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 159"></a></aside></h3><p>public</p>
<p>Checks if the window is ready to receive data.</p>
<p>return bool</p><h3 id="proc/on_message"><aside class="declaration">proc </aside>on_message<aside>(type, payload, href_list)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L349"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 349"></a></aside></h3><p>private</p>
<p>Callback for handling incoming tgui messages.</p><h3 id="proc/reinitialize"><aside class="declaration">proc </aside>reinitialize<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L140"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 140"></a></aside></h3><p>public</p>
<p>Reinitializes the panel with previous data used for initialization.</p><h3 id="proc/release_lock"><aside class="declaration">proc </aside>release_lock<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L196"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 196"></a></aside></h3><p>public</p>
<p>Release the window lock.</p><h3 id="proc/replace_html"><aside class="declaration">proc </aside>replace_html<aside>(inline_html)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L339"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 339"></a></aside></h3><p>public</p>
<p>Replaces the inline HTML content.</p>
<p>required inline_html string HTML to inject</p><h3 id="proc/send_asset"><aside class="declaration">proc </aside>send_asset<aside>(/<a href="datum.html">datum</a>/<a href="datum/asset.html">asset</a>/asset)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L308"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 308"></a></aside></h3><p>public</p>
<p>Makes an asset available to use in tgui.</p>
<p>required asset datum/asset</p>
<p>return bool - TRUE if any assets had to be sent to the client</p><h3 id="proc/send_message"><aside class="declaration">proc </aside>send_message<aside>(type, payload, force)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L264"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 264"></a></aside></h3><p>public</p>
<p>Sends a message to tgui window.</p>
<p>required type string Message type
required payload list Message payload
optional force bool Send regardless of the ready status.</p><h3 id="proc/send_raw_message"><aside class="declaration">proc </aside>send_raw_message<aside>(message, force)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L286"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 286"></a></aside></h3><p>public</p>
<p>Sends a raw payload to tgui window.</p>
<p>required message string JSON+urlencoded blob to send.
optional force bool Send regardless of the ready status.</p><h3 id="proc/subscribe"><aside class="declaration">proc </aside>subscribe<aside>(/<a href="datum.html">datum</a>/object, delegate)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L212"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 212"></a></aside></h3><p>public</p>
<p>Subscribes the datum to consume window messages on a specified proc.</p>
<p>Note, that this supports only one subscriber, because code for that
is simpler and therefore faster. If necessary, this can be rewritten
to support multiple subscribers.</p><h3 id="proc/unsubscribe"><aside class="declaration">proc </aside>unsubscribe<aside>(/<a href="datum.html">datum</a>/object)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/tgui/tgui_window.dm#L221"><img src="git.png" width="16" height="16" title="code/modules/tgui/tgui_window.dm 221"></a></aside></h3><p>public</p>
<p>Unsubscribes the datum. Do not forget to call this when cleaning up.</p></main><footer>tgstation.dme <a href="https://github.com/Skyrat-SS13/Skyrat-tg/tree/e507f9120bb0c3beecfe169d14193d90e7229a58">e507f91</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>