<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/status_effect/cosmic_beam - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/status_effect/cosmic_beam.html#var">Var Details</a> - <a href="datum/status_effect/cosmic_beam.html#proc">Proc Details</a></header><main><h1>cosmic_beam <aside>/<a href="datum.html">datum</a>/<a href="datum/status_effect.html">status_effect</a>/<a href="datum/status_effect/cosmic_beam.html">cosmic_beam</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L118"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 118"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#var/active">active</a></th><td>Wether the beam is active or not</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#var/check_delay">check_delay</a></th><td>The delay of when the beam gets checked</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#var/current_beam">current_beam</a></th><td>The storage for the beam</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#var/current_target">current_target</a></th><td>Stores the current beam target</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#var/last_check">last_check</a></th><td>Checks the time of the last check</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#var/max_range">max_range</a></th><td>The maximum range of the beam</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/beam_died">beam_died</a></th><td>Proc that is only called when the beam fails due to something, so not when manually ended.
manual disconnection = lose_target, so it can silently end
automatic disconnection = beam_died, so we can give a warning message first</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/los_check">los_check</a></th><td>Checks if the beam is going through an invalid turf</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/lose_target">lose_target</a></th><td>Proc that always is called when we want to end the beam and makes sure things are cleaned up, see beam_died()</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/on_beam_hit">on_beam_hit</a></th><td>What to add when the beam connects to a target</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/on_beam_release">on_beam_release</a></th><td>What to remove when the beam disconnects from a target</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/on_beam_tick">on_beam_tick</a></th><td>What to process when the beam is connected to a target</td></tr><tr><th><a href="datum/status_effect/cosmic_beam.html#proc/start_beam">start_beam</a></th><td>Used for starting the beam when a target has been acquired</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active"><aside class="declaration">var </aside>active <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L133"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 133"></a></h3><p>Wether the beam is active or not</p><h3 id="var/check_delay"><aside class="declaration">var </aside>check_delay <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L129"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 129"></a></h3><p>The delay of when the beam gets checked</p><h3 id="var/current_beam"><aside class="declaration">var </aside>current_beam <aside>– /<a href="datum.html">datum</a>/<a href="datum/beam.html">beam</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L135"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 135"></a></h3><p>The storage for the beam</p><h3 id="var/current_target"><aside class="declaration">var </aside>current_target <aside>– /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L125"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 125"></a></h3><p>Stores the current beam target</p><h3 id="var/last_check"><aside class="declaration">var </aside>last_check <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L127"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 127"></a></h3><p>Checks the time of the last check</p><h3 id="var/max_range"><aside class="declaration">var </aside>max_range <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L131"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 131"></a></h3><p>The maximum range of the beam</p><h2 id="proc">Proc Details</h2><h3 id="proc/beam_died"><aside class="declaration">proc </aside>beam_died<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L181"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 181"></a></aside></h3><p>Proc that is only called when the beam fails due to something, so not when manually ended.
manual disconnection = lose_target, so it can silently end
automatic disconnection = beam_died, so we can give a warning message first</p><h3 id="proc/los_check"><aside class="declaration">proc </aside>los_check<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/user, /<a href="mob.html">mob</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L205"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 205"></a></aside></h3><p>Checks if the beam is going through an invalid turf</p><h3 id="proc/lose_target"><aside class="declaration">proc </aside>lose_target<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L168"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 168"></a></aside></h3><p>Proc that always is called when we want to end the beam and makes sure things are cleaned up, see beam_died()</p><h3 id="proc/on_beam_hit"><aside class="declaration">proc </aside>on_beam_hit<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L234"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 234"></a></aside></h3><p>What to add when the beam connects to a target</p><h3 id="proc/on_beam_release"><aside class="declaration">proc </aside>on_beam_release<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L244"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 244"></a></aside></h3><p>What to remove when the beam disconnects from a target</p><h3 id="proc/on_beam_tick"><aside class="declaration">proc </aside>on_beam_tick<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/target)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L239"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 239"></a></aside></h3><p>What to process when the beam is connected to a target</p><h3 id="proc/start_beam"><aside class="declaration">proc </aside>start_beam<aside>(/<a href="atom.html">atom</a>/target, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/user)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/heretic/magic/star_touch.dm#L188"><img src="git.png" width="16" height="16" title="code/modules/antagonists/heretic/magic/star_touch.dm 188"></a></aside></h3><p>Used for starting the beam when a target has been acquired</p></main><footer>tgstation.dme <a href="https://github.com/Skyrat-SS13/Skyrat-tg/tree/e507f9120bb0c3beecfe169d14193d90e7229a58">e507f91</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>