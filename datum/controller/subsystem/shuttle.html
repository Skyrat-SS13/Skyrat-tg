<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../../../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/controller/subsystem/shuttle - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="datum/controller/subsystem/shuttle.html#var">Var Details</a> - <a href="datum/controller/subsystem/shuttle.html#proc">Proc Details</a></header><main><h1>shuttle <aside>/<a href="datum.html">datum</a>/<a href="datum/controller/subsystem.html">controller/subsystem</a>/<a href="datum/controller/subsystem/shuttle.html">shuttle</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L9"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 9"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/admin_emergency_no_recall">admin_emergency_no_recall</a></th><td>Did admins force-prevent the recall of the shuttle?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/arrivals">arrivals</a></th><td>The mobile docking port of the arrivals shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/assoc_mobile">assoc_mobile</a></th><td>Now it's only for ID generation in /obj/docking_port/mobile/register()</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/assoc_stationary">assoc_stationary</a></th><td>Now it's only for ID generation in /obj/docking_port/stationary/register()</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/backup_shuttle">backup_shuttle</a></th><td>The mobile docking port of the backup emergency shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/beacon_list">beacon_list</a></th><td>A list of all the beacons that can be docked to.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/centcom_message">centcom_message</a></th><td>Remarks from CentCom on how well you checked the last order.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/chef_groceries">chef_groceries</a></th><td>Queued supplies to be purchased for the chef.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/discovered_plants">discovered_plants</a></th><td>Typepaths for unusual plants we've already sent CentCom, associated with their potencies.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency">emergency</a></th><td>Emergency shuttle stuff
The mobile docking port of the emergency shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergencyCallAmount">emergencyCallAmount</a></th><td>How many times was the escape shuttle called?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_call_time">emergency_call_time</a></th><td>Time taken for emergency shuttle to reach the station when called (in deciseconds).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_dock_time">emergency_dock_time</a></th><td>Time taken for emergency shuttle to leave again once it has docked (in deciseconds).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_escape_time">emergency_escape_time</a></th><td>Time taken for emergency shuttle to reach a safe distance after leaving station (in deciseconds).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_last_call_loc">emergency_last_call_loc</a></th><td>Where was the emergency shuttle last called from?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_no_escape">emergency_no_escape</a></th><td>Is the departure of the shuttle currently prevented? FALSE for no, any other number for yes (thanks shuttle code).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/emergency_no_recall">emergency_no_recall</a></th><td>Do we prevent the recall of the shuttle?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/existing_shuttle">existing_shuttle</a></th><td>The existing shuttle associated with the selected shuttle map_template.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/has_purchase_shuttle_access">has_purchase_shuttle_access</a></th><td>A list of job accesses that are able to purchase any shuttles.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turf_images">hidden_shuttle_turf_images</a></th><td>Only the images from the <a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turfs" title="/datum/controller/subsystem/shuttle">/datum/controller/subsystem/shuttle/hidden_shuttle_turfs</a> list.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turfs">hidden_shuttle_turfs</a></th><td>All turfs hidden from navigation computers associated with a list containing the image hiding them and the type of the turf they are pretending to be</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/hostile_environments">hostile_environments</a></th><td>Things blocking escape shuttle from leaving.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/last_call_time">last_call_time</a></th><td>Previous time left to the call, only useful for disabling and re-enabling the shuttle for admins so it doesn't have to start the whole timer again.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/last_mode">last_mode</a></th><td>Previous mode of the shuttle before it was forcefully disabled by admins.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/lockdown">lockdown</a></th><td>Disallow transit after nuke goes off</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/mobile_docking_ports">mobile_docking_ports</a></th><td>A list of all the mobile docking ports.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/order_number">order_number</a></th><td>Order number given to next order.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/points">points</a></th><td>Number of trade-points we have (basically money).</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/preview_reservation">preview_reservation</a></th><td>The turf reservation for the current previewed shuttle.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/preview_shuttle">preview_shuttle</a></th><td>The docking port associated to the preview_template that's currently being previewed.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/preview_template">preview_template</a></th><td>The shuttle map_template of the shuttle we want to preview.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/request_list">request_list</a></th><td>Wishlist items made by crew for cargo to purchase at their leisure.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/selected">selected</a></th><td>The currently selected shuttle map_template in the shuttle manipulator's template viewer.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shopping_list">shopping_list</a></th><td>Queued supply packs to be purchased.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_insurance">shuttle_insurance</a></th><td>If the event happens where the crew can purchase shuttle insurance, catastrophe can't run.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_loading">shuttle_loading</a></th><td>Are we currently in the process of loading a shuttle? Useful to ensure we don't load more than one at once, to avoid weird inconsistencies and possible runtimes.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_loan">shuttle_loan</a></th><td>The current shuttle loan event, if any.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/shuttle_purchase_requirements_met">shuttle_purchase_requirements_met</a></th><td>For keeping track of ingame events that would unlock new shuttles, such as defeating a boss or discovering a secret item.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/stationary_docking_ports">stationary_docking_ports</a></th><td>A list of all the stationary docking ports.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supermatter_cascade">supermatter_cascade</a></th><td>Did the supermatter start a cascade event?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supply">supply</a></th><td>Supply shuttle stuff
The current cargo shuttle's mobile docking port.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supply_blocked">supply_blocked</a></th><td>Is the cargo shuttle currently blocked from leaving?</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/supply_packs">supply_packs</a></th><td>All of the possible supply packs that can be purchased by cargo.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/trade_blockade">trade_blockade</a></th><td>Things blocking the cargo shuttle from leaving.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_docking_ports">transit_docking_ports</a></th><td>A list of all the transit docking ports.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_request_failures">transit_request_failures</a></th><td>An associative list of the mobile docking ports that have failed a transit request, with the amount of times they've actually failed that transit request, up to MAX_TRANSIT_REQUEST_RETRIES</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_requesters">transit_requesters</a></th><td>A list of all the mobile docking ports currently requesting a spot in hyperspace.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#var/transit_utilized">transit_utilized</a></th><td>How many turfs our shuttles are currently utilizing in reservation space</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/action_load">action_load</a></th><td>Loads a shuttle template and sends it to a given destination port, optionally replacing the existing shuttle</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/call_evac_shuttle">call_evac_shuttle</a></th><td>Call the emergency shuttle.
If you are doing this on behalf of a player, use requestEvac instead.
<code>signal_origin</code> is fluff occasionally provided to players.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/canEvac">canEvac</a></th><td>Check if we can call the evac shuttle.
Returns TRUE if we can. Otherwise, returns a string detailing the problem.</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/load_template">load_template</a></th><td>Loads a shuttle template into the transit Z level, usually referred to elsewhere in the code as a shuttle preview.
Does not register the shuttle so it can't be used yet, that's handled in action_load()</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/moveShuttle">moveShuttle</a></th><td>Moves a shuttle to a new location</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/transit_space_clearing">transit_space_clearing</a></th><td>Gotta manage our space brother</td></tr><tr><th><a href="datum/controller/subsystem/shuttle.html#proc/unload_preview">unload_preview</a></th><td>Removes the preview_shuttle from the transit Z-level</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/admin_emergency_no_recall"><aside class="declaration">var </aside>admin_emergency_no_recall <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L62"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 62"></a></h3><p>Did admins force-prevent the recall of the shuttle?</p><h3 id="var/arrivals"><aside class="declaration">var </aside>arrivals <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/arrivals.html">arrivals</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L44"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 44"></a></h3><p>The mobile docking port of the arrivals shuttle.</p><h3 id="var/assoc_mobile"><aside class="declaration">var </aside>assoc_mobile <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L26"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 26"></a></h3><p>Now it's only for ID generation in /obj/docking_port/mobile/register()</p><h3 id="var/assoc_stationary"><aside class="declaration">var </aside>assoc_stationary <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L28"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 28"></a></h3><p>Now it's only for ID generation in /obj/docking_port/stationary/register()</p><h3 id="var/backup_shuttle"><aside class="declaration">var </aside>backup_shuttle <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/emergency.html">emergency</a>/backup</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L46"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 46"></a></h3><p>The mobile docking port of the backup emergency shuttle.</p><h3 id="var/beacon_list"><aside class="declaration">var </aside>beacon_list <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L21"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 21"></a></h3><p>A list of all the beacons that can be docked to.</p><h3 id="var/centcom_message"><aside class="declaration">var </aside>centcom_message <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L82"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 82"></a></h3><p>Remarks from CentCom on how well you checked the last order.</p><h3 id="var/chef_groceries"><aside class="declaration">var </aside>chef_groceries <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L95"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 95"></a></h3><p>Queued supplies to be purchased for the chef.</p><h3 id="var/discovered_plants"><aside class="declaration">var </aside>discovered_plants <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L84"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 84"></a></h3><p>Typepaths for unusual plants we've already sent CentCom, associated with their potencies.</p><h3 id="var/emergency"><aside class="declaration">var </aside>emergency <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/emergency.html">emergency</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L42"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 42"></a></h3><p>Emergency shuttle stuff
The mobile docking port of the emergency shuttle.</p><h3 id="var/emergencyCallAmount"><aside class="declaration">var </aside>emergencyCallAmount <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L56"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 56"></a></h3><p>How many times was the escape shuttle called?</p><h3 id="var/emergency_call_time"><aside class="declaration">var </aside>emergency_call_time <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L48"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 48"></a></h3><p>Time taken for emergency shuttle to reach the station when called (in deciseconds).</p><h3 id="var/emergency_dock_time"><aside class="declaration">var </aside>emergency_dock_time <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L50"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 50"></a></h3><p>Time taken for emergency shuttle to leave again once it has docked (in deciseconds).</p><h3 id="var/emergency_escape_time"><aside class="declaration">var </aside>emergency_escape_time <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L52"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 52"></a></h3><p>Time taken for emergency shuttle to reach a safe distance after leaving station (in deciseconds).</p><h3 id="var/emergency_last_call_loc"><aside class="declaration">var </aside>emergency_last_call_loc <aside>â€“ /<a href="area.html">area</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L54"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 54"></a></h3><p>Where was the emergency shuttle last called from?</p><h3 id="var/emergency_no_escape"><aside class="declaration">var </aside>emergency_no_escape <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L58"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 58"></a></h3><p>Is the departure of the shuttle currently prevented? FALSE for no, any other number for yes (thanks shuttle code).</p><h3 id="var/emergency_no_recall"><aside class="declaration">var </aside>emergency_no_recall <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L60"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 60"></a></h3><p>Do we prevent the recall of the shuttle?</p><h3 id="var/existing_shuttle"><aside class="declaration">var </aside>existing_shuttle <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L128"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 128"></a></h3><p>The existing shuttle associated with the selected shuttle map_template.</p><h3 id="var/has_purchase_shuttle_access"><aside class="declaration">var </aside>has_purchase_shuttle_access <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L104"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 104"></a></h3><p>A list of job accesses that are able to purchase any shuttles.</p><h3 id="var/hidden_shuttle_turf_images"><aside class="declaration">var </aside>hidden_shuttle_turf_images <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L109"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 109"></a></h3><p>Only the images from the <a href="datum/controller/subsystem/shuttle.html#var/hidden_shuttle_turfs" title="/datum/controller/subsystem/shuttle">/datum/controller/subsystem/shuttle/hidden_shuttle_turfs</a> list.</p><h3 id="var/hidden_shuttle_turfs"><aside class="declaration">var </aside>hidden_shuttle_turfs <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L107"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 107"></a></h3><p>All turfs hidden from navigation computers associated with a list containing the image hiding them and the type of the turf they are pretending to be</p><h3 id="var/hostile_environments"><aside class="declaration">var </aside>hostile_environments <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L69"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 69"></a></h3><p>Things blocking escape shuttle from leaving.</p><h3 id="var/last_call_time"><aside class="declaration">var </aside>last_call_time <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L66"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 66"></a></h3><p>Previous time left to the call, only useful for disabling and re-enabling the shuttle for admins so it doesn't have to start the whole timer again.</p><h3 id="var/last_mode"><aside class="declaration">var </aside>last_mode <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L64"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 64"></a></h3><p>Previous mode of the shuttle before it was forcefully disabled by admins.</p><h3 id="var/lockdown"><aside class="declaration">var </aside>lockdown <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L122"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 122"></a></h3><p>Disallow transit after nuke goes off</p><h3 id="var/mobile_docking_ports"><aside class="declaration">var </aside>mobile_docking_ports <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L17"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 17"></a></h3><p>A list of all the mobile docking ports.</p><h3 id="var/order_number"><aside class="declaration">var </aside>order_number <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L78"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 78"></a></h3><p>Order number given to next order.</p><h3 id="var/points"><aside class="declaration">var </aside>points <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L80"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 80"></a></h3><p>Number of trade-points we have (basically money).</p><h3 id="var/preview_reservation"><aside class="declaration">var </aside>preview_reservation <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/turf_reservation.html">turf_reservation</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L136"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 136"></a></h3><p>The turf reservation for the current previewed shuttle.</p><h3 id="var/preview_shuttle"><aside class="declaration">var </aside>preview_shuttle <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L133"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 133"></a></h3><p>The docking port associated to the preview_template that's currently being previewed.</p><h3 id="var/preview_template"><aside class="declaration">var </aside>preview_template <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L131"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 131"></a></h3><p>The shuttle map_template of the shuttle we want to preview.</p><h3 id="var/request_list"><aside class="declaration">var </aside>request_list <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L101"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 101"></a></h3><p>Wishlist items made by crew for cargo to purchase at their leisure.</p><h3 id="var/selected"><aside class="declaration">var </aside>selected <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L125"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 125"></a></h3><p>The currently selected shuttle map_template in the shuttle manipulator's template viewer.</p><h3 id="var/shopping_list"><aside class="declaration">var </aside>shopping_list <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L98"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 98"></a></h3><p>Queued supply packs to be purchased.</p><h3 id="var/shuttle_insurance"><aside class="declaration">var </aside>shuttle_insurance <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L115"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 115"></a></h3><p>If the event happens where the crew can purchase shuttle insurance, catastrophe can't run.</p><h3 id="var/shuttle_loading"><aside class="declaration">var </aside>shuttle_loading <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L139"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 139"></a></h3><p>Are we currently in the process of loading a shuttle? Useful to ensure we don't load more than one at once, to avoid weird inconsistencies and possible runtimes.</p><h3 id="var/shuttle_loan"><aside class="declaration">var </aside>shuttle_loan <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/round_event.html">round_event</a>/<a href="datum/round_event/shuttle_loan.html">shuttle_loan</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L112"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 112"></a></h3><p>The current shuttle loan event, if any.</p><h3 id="var/shuttle_purchase_requirements_met"><aside class="declaration">var </aside>shuttle_purchase_requirements_met <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L119"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 119"></a></h3><p>For keeping track of ingame events that would unlock new shuttles, such as defeating a boss or discovering a secret item.</p><h3 id="var/stationary_docking_ports"><aside class="declaration">var </aside>stationary_docking_ports <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L19"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 19"></a></h3><p>A list of all the stationary docking ports.</p><h3 id="var/supermatter_cascade"><aside class="declaration">var </aside>supermatter_cascade <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L141"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 141"></a></h3><p>Did the supermatter start a cascade event?</p><h3 id="var/supply"><aside class="declaration">var </aside>supply <aside>â€“ /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/mobile.html">mobile</a>/<a href="obj/docking_port/mobile/supply.html">supply</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L76"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 76"></a></h3><p>Supply shuttle stuff
The current cargo shuttle's mobile docking port.</p><h3 id="var/supply_blocked"><aside class="declaration">var </aside>supply_blocked <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L89"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 89"></a></h3><p>Is the cargo shuttle currently blocked from leaving?</p><h3 id="var/supply_packs"><aside class="declaration">var </aside>supply_packs <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L92"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 92"></a></h3><p>All of the possible supply packs that can be purchased by cargo.</p><h3 id="var/trade_blockade"><aside class="declaration">var </aside>trade_blockade <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L87"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 87"></a></h3><p>Things blocking the cargo shuttle from leaving.</p><h3 id="var/transit_docking_ports"><aside class="declaration">var </aside>transit_docking_ports <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L23"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 23"></a></h3><p>A list of all the transit docking ports.</p><h3 id="var/transit_request_failures"><aside class="declaration">var </aside>transit_request_failures <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L33"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 33"></a></h3><p>An associative list of the mobile docking ports that have failed a transit request, with the amount of times they've actually failed that transit request, up to MAX_TRANSIT_REQUEST_RETRIES</p><h3 id="var/transit_requesters"><aside class="declaration">var </aside>transit_requesters <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L31"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 31"></a></h3><p>A list of all the mobile docking ports currently requesting a spot in hyperspace.</p><h3 id="var/transit_utilized"><aside class="declaration">var </aside>transit_utilized <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L35"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 35"></a></h3><p>How many turfs our shuttles are currently utilizing in reservation space</p><h2 id="proc">Proc Details</h2><h3 id="proc/action_load"><aside class="declaration">proc </aside>action_load<aside>(/<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a>/loading_template, /<a href="obj.html">obj</a>/<a href="obj/docking_port.html">docking_port</a>/<a href="obj/docking_port/stationary.html">stationary</a>/destination_port, replace)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L857"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 857"></a></aside></h3><p>Loads a shuttle template and sends it to a given destination port, optionally replacing the existing shuttle</p>
<p>Arguments:</p>
<ul>
<li>loading_template - The shuttle template to load</li>
<li>destination_port - The station docking port to send the shuttle to once loaded</li>
<li>replace - Whether to replace the shuttle or create a new one</li>
</ul><h3 id="proc/call_evac_shuttle"><aside class="declaration">proc </aside>call_evac_shuttle<aside>(call_reason, signal_origin)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L385"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 385"></a></aside></h3><p>Call the emergency shuttle.
If you are doing this on behalf of a player, use requestEvac instead.
<code>signal_origin</code> is fluff occasionally provided to players.</p><h3 id="proc/canEvac"><aside class="declaration">proc </aside>canEvac<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L318"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 318"></a></aside></h3><p>Check if we can call the evac shuttle.
Returns TRUE if we can. Otherwise, returns a string detailing the problem.</p><h3 id="proc/load_template"><aside class="declaration">proc </aside>load_template<aside>(/<a href="datum.html">datum</a>/<a href="datum/map_template.html">map_template</a>/<a href="datum/map_template/shuttle.html">shuttle</a>/loading_template)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L928"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 928"></a></aside></h3><p>Loads a shuttle template into the transit Z level, usually referred to elsewhere in the code as a shuttle preview.
Does not register the shuttle so it can't be used yet, that's handled in action_load()</p>
<p>Arguments:</p>
<ul>
<li>loading_template - The shuttle template to load</li>
</ul><h3 id="proc/moveShuttle"><aside class="declaration">proc </aside>moveShuttle<aside>(shuttle_id, dock_id, timed)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L583"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 583"></a></aside></h3><p>Moves a shuttle to a new location</p>
<p>Arguments:</p>
<ul>
<li>shuttle_id - The ID of the shuttle (mobile docking port) to move</li>
<li>dock_id - The ID of the destination (stationary docking port) to move to</li>
<li>timed - If true, have the shuttle follow normal spool-up, jump, dock process. If false, immediately move to the new location.</li>
</ul><h3 id="proc/transit_space_clearing"><aside class="declaration">proc </aside>transit_space_clearing<aside>(/<a href="datum.html">datum</a>/<a href="datum/turf_reservation.html">turf_reservation</a>/source)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L711"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 711"></a></aside></h3><p>Gotta manage our space brother</p><h3 id="proc/unload_preview"><aside class="declaration">proc </aside>unload_preview<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/shuttle.dm#L977"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/shuttle.dm 977"></a></aside></h3><p>Removes the preview_shuttle from the transit Z-level</p></main><footer>tgstation.dme <a href="https://github.com/Skyrat-SS13/Skyrat-tg/tree/e507f9120bb0c3beecfe169d14193d90e7229a58">e507f91</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>