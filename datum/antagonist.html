<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><base href="../"><link rel="stylesheet" href="dmdoc.css"><title>/datum/antagonist - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> — <a href="datum/antagonist.html#var">Var Details</a> - <a href="datum/antagonist.html#proc">Proc Details</a></header><main><h1>antagonist <aside>/<a href="datum.html">datum</a>/<a href="datum/antagonist.html">antagonist</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L6"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 6"></a></h1><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="datum/antagonist.html#var/antag_flags">antag_flags</a></th><td>Flags for antags to turn on or off and check!</td></tr><tr><th><a href="datum/antagonist.html#var/antag_hud_name">antag_hud_name</a></th><td>Name of the antag hud we provide to this mob.</td></tr><tr><th><a href="datum/antagonist.html#var/antag_memory">antag_memory</a></th><td>String dialogue that is added to the player's in-round notes and memories regarding specifics of that antagonist, eg. the nuke code for nuke ops, or your unlock code for traitors.</td></tr><tr><th><a href="datum/antagonist.html#var/antag_moodlet">antag_moodlet</a></th><td>typepath of moodlet that the mob will gain when granted this antagonist type.</td></tr><tr><th><a href="datum/antagonist.html#var/antag_recipes">antag_recipes</a></th><td>the list of recipes that an antag will learn/unlearn on gain/loss</td></tr><tr><th><a href="datum/antagonist.html#var/antagpanel_category">antagpanel_category</a></th><td>Antagpanel will display these together, REQUIRED</td></tr><tr><th><a href="datum/antagonist.html#var/can_assign_self_objectives">can_assign_self_objectives</a></th><td>If true, this antagonist can assign themself a new objective</td></tr><tr><th><a href="datum/antagonist.html#var/can_coexist_with_others">can_coexist_with_others</a></th><td>Whether or not the person will be able to have more than one datum</td></tr><tr><th><a href="datum/antagonist.html#var/can_elimination_hijack">can_elimination_hijack</a></th><td>If these antags are alone when a shuttle elimination happens.</td></tr><tr><th><a href="datum/antagonist.html#var/count_against_dynamic_roll_chance">count_against_dynamic_roll_chance</a></th><td>If set to true, the antag will not be added to the living antag list.</td></tr><tr><th><a href="datum/antagonist.html#var/default_custom_objective">default_custom_objective</a></th><td>Default to fill in when entering a custom objective.</td></tr><tr><th><a href="datum/antagonist.html#var/hardcore_random_bonus">hardcore_random_bonus</a></th><td>Whether we give a hardcore random bonus for greentexting as this antagonist while playing hardcore random</td></tr><tr><th><a href="datum/antagonist.html#var/hijack_speed">hijack_speed</a></th><td>If above 0, this is the multiplier for the speed at which we hijack the shuttle. Do not directly read, use hijack_speed().</td></tr><tr><th><a href="datum/antagonist.html#var/hud_icon">hud_icon</a></th><td>The antag hud's icon file</td></tr><tr><th><a href="datum/antagonist.html#var/info_button_ref">info_button_ref</a></th><td>weakref to button to access antag interface</td></tr><tr><th><a href="datum/antagonist.html#var/job_rank">job_rank</a></th><td>The define string we use to identify the role for bans/player polls to spawn a random new one in.</td></tr><tr><th><a href="datum/antagonist.html#var/name">name</a></th><td>Public name for this antagonist. Appears for player prompts and round-end reports.</td></tr><tr><th><a href="datum/antagonist.html#var/objectives">objectives</a></th><td>List of the objective datums that this role currently has, completing all objectives at round-end will cause this antagonist to greentext.</td></tr><tr><th><a href="datum/antagonist.html#var/owner">owner</a></th><td>Mind that owns this datum</td></tr><tr><th><a href="datum/antagonist.html#var/prevent_roundtype_conversion">prevent_roundtype_conversion</a></th><td>If false, the roundtype will still convert with this antag active</td></tr><tr><th><a href="datum/antagonist.html#var/preview_outfit">preview_outfit</a></th><td>The typepath for the outfit to show in the preview for the preferences menu.</td></tr><tr><th><a href="datum/antagonist.html#var/replace_banned">replace_banned</a></th><td>Should replace jobbanned player with ghosts if granted.</td></tr><tr><th><a href="datum/antagonist.html#var/roundend_category">roundend_category</a></th><td>Section of roundend report, datums with same category will be displayed together, also default header for the section</td></tr><tr><th><a href="datum/antagonist.html#var/show_in_antagpanel">show_in_antagpanel</a></th><td>This will hide adding this antag type in antag panel, use only for internal subtypes that shouldn't be added directly but still show if possessed by mind</td></tr><tr><th><a href="datum/antagonist.html#var/show_in_roundend">show_in_roundend</a></th><td>Set to false to hide the antagonists from roundend report</td></tr><tr><th><a href="datum/antagonist.html#var/show_name_in_check_antagonists">show_name_in_check_antagonists</a></th><td>Will append antagonist name in admin listings - use for categories that share more than one antag type</td></tr><tr><th><a href="datum/antagonist.html#var/show_to_ghosts">show_to_ghosts</a></th><td>Should this antagonist be shown as antag to ghosts? Shouldn't be used for stealthy antagonists like traitors</td></tr><tr><th><a href="datum/antagonist.html#var/silent">silent</a></th><td>Silent will prevent the gain/lose texts to show</td></tr><tr><th><a href="datum/antagonist.html#var/stinger_sound">stinger_sound</a></th><td>A path to the audio stinger that plays upon gaining this datum.</td></tr><tr><th><a href="datum/antagonist.html#var/suicide_cry">suicide_cry</a></th><td>The battlecry this antagonist shouts when suiciding with C4/X4.</td></tr><tr><th><a href="datum/antagonist.html#var/team_hud_ref">team_hud_ref</a></th><td>A weakref to the HUD shown to teammates, created by <code>add_team_hud</code></td></tr><tr><th><a href="datum/antagonist.html#var/typecache_datum_blacklist">typecache_datum_blacklist</a></th><td>List of datums this type can't coexist with</td></tr><tr><th><a href="datum/antagonist.html#var/ui_name">ui_name</a></th><td>name of the UI that will try to open, right now using a generic ui</td></tr><tr><th><a href="datum/antagonist.html#var/view_exploitables">view_exploitables</a></th><td>Should this antagonist be allowed to view exploitable information?</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="datum/antagonist.html#proc/add_team_hud">add_team_hud</a></th><td>Adds a HUD that will show you other members with the same antagonist.
If an antag typepath is passed to <code>antag_to_check</code>, will check that, otherwise will use the source type.</td></tr><tr><th><a href="datum/antagonist.html#proc/admin_add">admin_add</a></th><td>Called when using admin tools to give antag status</td></tr><tr><th><a href="datum/antagonist.html#proc/admin_remove">admin_remove</a></th><td>Called when removing antagonist using admin tools</td></tr><tr><th><a href="datum/antagonist.html#proc/antag_panel_data">antag_panel_data</a></th><td>Additional data to display in the antagonist panel section.
For example, nuke disk code, genome count, etc</td></tr><tr><th><a href="datum/antagonist.html#proc/clear_antag_moodies">clear_antag_moodies</a></th><td>Proc that removes this antagonist's ascribed moodlet from the player.</td></tr><tr><th><a href="datum/antagonist.html#proc/farewell">farewell</a></th><td>Proc that sends fluff or instructional messages to the player when they lose this antag datum.
Use this proc for playing sounds, sending alerts, or otherwise informing the player that they're no longer a specific antagonist type.</td></tr><tr><th><a href="datum/antagonist.html#proc/finish_preview_icon">finish_preview_icon</a></th><td>Given an icon, will crop it to be consistent of those in the preferences menu.
Not necessary, and in fact will look bad if it's anything other than a human.</td></tr><tr><th><a href="datum/antagonist.html#proc/forge_objectives">forge_objectives</a></th><td>Used to create objectives for the antagonist.</td></tr><tr><th><a href="datum/antagonist.html#proc/get_admin_commands">get_admin_commands</a></th><td>List of [&quot;Command&quot;] = CALLBACK(), user will be appeneded to callback arguments on execution</td></tr><tr><th><a href="datum/antagonist.html#proc/get_objectives">get_objectives</a></th><td>generic helper to send objectives as data through tgui.</td></tr><tr><th><a href="datum/antagonist.html#proc/get_preview_icon">get_preview_icon</a></th><td>Returns the icon to show on the preferences menu.</td></tr><tr><th><a href="datum/antagonist.html#proc/get_team">get_team</a></th><td>Proc that will return the team this antagonist belongs to, when called. Helpful with antagonists that may belong to multiple potential teams in a single round.</td></tr><tr><th><a href="datum/antagonist.html#proc/give_antag_moodies">give_antag_moodies</a></th><td>Proc that assigns this antagonist's ascribed moodlet to the player.</td></tr><tr><th><a href="datum/antagonist.html#proc/greet">greet</a></th><td>Proc that sends fluff or instructional messages to the player when they are given this antag datum.
Use this proc for playing sounds, sending alerts, or helping to setup non-gameplay influencing aspects of the antagonist type.</td></tr><tr><th><a href="datum/antagonist.html#proc/handle_clown_mutation">handle_clown_mutation</a></th><td>Handles adding and removing the clumsy mutation from clown antags. Gets called in apply/remove_innate_effects</td></tr><tr><th><a href="datum/antagonist.html#proc/hijack_speed">hijack_speed</a></th><td>Gets how fast we can hijack the shuttle, return 0 for can not hijack.
Defaults to hijack_speed var, override for custom stuff like buffing hijack speed for hijack objectives or something.</td></tr><tr><th><a href="datum/antagonist.html#proc/hud_image_on">hud_image_on</a></th><td>Takes a location, returns an image drawing &quot;on&quot; it that matches this antag datum's hud icon</td></tr><tr><th><a href="datum/antagonist.html#proc/is_banned">is_banned</a></th><td>Proc that checks the sent mob aganst the banlistfor this antagonist.
Returns FALSE if no mob is sent, or the mob is not found to be banned.</td></tr><tr><th><a href="datum/antagonist.html#proc/on_body_transfer">on_body_transfer</a></th><td>Called by the transfer_to() mind proc after the mind (mind.current and new_character.mind) has moved but before the player (key and client) is transferred.</td></tr><tr><th><a href="datum/antagonist.html#proc/on_mindshield">on_mindshield</a></th><td>This is called when the antagonist is successfully mindshielded.</td></tr><tr><th><a href="datum/antagonist.html#proc/play_stinger">play_stinger</a></th><td>Plays the antag stinger sound, if we have one</td></tr><tr><th><a href="datum/antagonist.html#proc/pre_mindshield">pre_mindshield</a></th><td>This is called when the antagonist is being mindshielded.</td></tr><tr><th><a href="datum/antagonist.html#proc/render_preview_outfit">render_preview_outfit</a></th><td>Creates an icon from the preview outfit.
Custom implementors of <code>get_preview_icon</code> should use this, as the
result of <code>get_preview_icon</code> is expected to be the completed version.</td></tr><tr><th><a href="datum/antagonist.html#proc/replace_banned_player">replace_banned_player</a></th><td>Proc that replaces a player who cannot play a specific antagonist due to being banned via a poll, and alerts the player of their being on the banlist.</td></tr><tr><th><a href="datum/antagonist.html#proc/roundend_report">roundend_report</a></th><td>Proc that sends string information for the end-round report window to the server.
This runs on every instance of every antagonist that exists at the end of the round.
This is the body of the message, sandwiched between roundend_report_header and roundend_report_footer.</td></tr><tr><th><a href="datum/antagonist.html#proc/roundend_report_footer">roundend_report_footer</a></th><td>Proc that sends string data for the round-end report.
Displayed after roundend_report and roundend_report_footer.
Appears at the end of the roundend_catagory section.</td></tr><tr><th><a href="datum/antagonist.html#proc/roundend_report_header">roundend_report_header</a></th><td>Proc that sends string data for the round-end report.
Displayed before roundend_report and roundend_report_footer.
Appears at start of roundend_catagory section.</td></tr><tr><th><a href="datum/antagonist.html#proc/submit_player_objective">submit_player_objective</a></th><td>Allows player to replace their objectives with a new one they wrote themselves.</td></tr><tr><th><a href="datum/antagonist.html#proc/ui_interact">ui_interact</a></th><td>ANTAGONIST UI STUFF</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/antag_flags"><aside class="declaration">var </aside>antag_flags <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L57"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 57"></a></h3><p>Flags for antags to turn on or off and check!</p><h3 id="var/antag_hud_name"><aside class="declaration">var </aside>antag_hud_name <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L40"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 40"></a></h3><p>Name of the antag hud we provide to this mob.</p><h3 id="var/antag_memory"><aside class="declaration">var </aside>antag_memory <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L30"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 30"></a></h3><p>String dialogue that is added to the player's in-round notes and memories regarding specifics of that antagonist, eg. the nuke code for nuke ops, or your unlock code for traitors.</p><h3 id="var/antag_moodlet"><aside class="declaration">var </aside>antag_moodlet <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L32"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 32"></a></h3><p>typepath of moodlet that the mob will gain when granted this antagonist type.</p><h3 id="var/antag_recipes"><aside class="declaration">var </aside>antag_recipes <aside>– /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/modular_skyrat/master_files/code/modules/antagonists/_common/antag_datum.dm#L5"><img src="git.png" width="16" height="16" title="modular_skyrat/master_files/code/modules/antagonists/_common/antag_datum.dm 5"></a></h3><p>the list of recipes that an antag will learn/unlearn on gain/loss</p><h3 id="var/antagpanel_category"><aside class="declaration">var </aside>antagpanel_category <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L49"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 49"></a></h3><p>Antagpanel will display these together, REQUIRED</p><h3 id="var/can_assign_self_objectives"><aside class="declaration">var </aside>can_assign_self_objectives <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L59"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 59"></a></h3><p>If true, this antagonist can assign themself a new objective</p><h3 id="var/can_coexist_with_others"><aside class="declaration">var </aside>can_coexist_with_others <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L20"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 20"></a></h3><p>Whether or not the person will be able to have more than one datum</p><h3 id="var/can_elimination_hijack"><aside class="declaration">var </aside>can_elimination_hijack <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L34"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 34"></a></h3><p>If these antags are alone when a shuttle elimination happens.</p><h3 id="var/count_against_dynamic_roll_chance"><aside class="declaration">var </aside>count_against_dynamic_roll_chance <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L42"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 42"></a></h3><p>If set to true, the antag will not be added to the living antag list.</p><h3 id="var/default_custom_objective"><aside class="declaration">var </aside>default_custom_objective <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L61"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 61"></a></h3><p>Default to fill in when entering a custom objective.</p><h3 id="var/hardcore_random_bonus"><aside class="declaration">var </aside>hardcore_random_bonus <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L63"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 63"></a></h3><p>Whether we give a hardcore random bonus for greentexting as this antagonist while playing hardcore random</p><h3 id="var/hijack_speed"><aside class="declaration">var </aside>hijack_speed <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L36"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 36"></a></h3><p>If above 0, this is the multiplier for the speed at which we hijack the shuttle. Do not directly read, use hijack_speed().</p><h3 id="var/hud_icon"><aside class="declaration">var </aside>hud_icon <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L38"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 38"></a></h3><p>The antag hud's icon file</p><h3 id="var/info_button_ref"><aside class="declaration">var </aside>info_button_ref <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L72"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 72"></a></h3><p>weakref to button to access antag interface</p><h3 id="var/job_rank"><aside class="declaration">var </aside>job_rank <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L24"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 24"></a></h3><p>The define string we use to identify the role for bans/player polls to spawn a random new one in.</p><h3 id="var/name"><aside class="declaration">var </aside>name <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L8"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 8"></a></h3><p>Public name for this antagonist. Appears for player prompts and round-end reports.</p><h3 id="var/objectives"><aside class="declaration">var </aside>objectives <aside>– /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L28"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 28"></a></h3><p>List of the objective datums that this role currently has, completing all objectives at round-end will cause this antagonist to greentext.</p><h3 id="var/owner"><aside class="declaration">var </aside>owner <aside>– /<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L16"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 16"></a></h3><p>Mind that owns this datum</p><h3 id="var/prevent_roundtype_conversion"><aside class="declaration">var </aside>prevent_roundtype_conversion <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L14"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 14"></a></h3><p>If false, the roundtype will still convert with this antag active</p><h3 id="var/preview_outfit"><aside class="declaration">var </aside>preview_outfit <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L55"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 55"></a></h3><p>The typepath for the outfit to show in the preview for the preferences menu.</p><h3 id="var/replace_banned"><aside class="declaration">var </aside>replace_banned <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L26"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 26"></a></h3><p>Should replace jobbanned player with ghosts if granted.</p><h3 id="var/roundend_category"><aside class="declaration">var </aside>roundend_category <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L10"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 10"></a></h3><p>Section of roundend report, datums with same category will be displayed together, also default header for the section</p><h3 id="var/show_in_antagpanel"><aside class="declaration">var </aside>show_in_antagpanel <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L47"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 47"></a></h3><p>This will hide adding this antag type in antag panel, use only for internal subtypes that shouldn't be added directly but still show if possessed by mind</p><h3 id="var/show_in_roundend"><aside class="declaration">var </aside>show_in_roundend <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L12"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 12"></a></h3><p>Set to false to hide the antagonists from roundend report</p><h3 id="var/show_name_in_check_antagonists"><aside class="declaration">var </aside>show_name_in_check_antagonists <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L51"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 51"></a></h3><p>Will append antagonist name in admin listings - use for categories that share more than one antag type</p><h3 id="var/show_to_ghosts"><aside class="declaration">var </aside>show_to_ghosts <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L53"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 53"></a></h3><p>Should this antagonist be shown as antag to ghosts? Shouldn't be used for stealthy antagonists like traitors</p><h3 id="var/silent"><aside class="declaration">var </aside>silent <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L18"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 18"></a></h3><p>Silent will prevent the gain/lose texts to show</p><h3 id="var/stinger_sound"><aside class="declaration">var </aside>stinger_sound <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L65"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 65"></a></h3><p>A path to the audio stinger that plays upon gaining this datum.</p><h3 id="var/suicide_cry"><aside class="declaration">var </aside>suicide_cry <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L44"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 44"></a></h3><p>The battlecry this antagonist shouts when suiciding with C4/X4.</p><h3 id="var/team_hud_ref"><aside class="declaration">var </aside>team_hud_ref <aside>– /<a href="datum.html">datum</a>/<a href="datum/weakref.html">weakref</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L77"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 77"></a></h3><p>A weakref to the HUD shown to teammates, created by <code>add_team_hud</code></p><h3 id="var/typecache_datum_blacklist"><aside class="declaration">var </aside>typecache_datum_blacklist <aside>– /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L22"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 22"></a></h3><p>List of datums this type can't coexist with</p><h3 id="var/ui_name"><aside class="declaration">var </aside>ui_name <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L70"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 70"></a></h3><p>name of the UI that will try to open, right now using a generic ui</p><h3 id="var/view_exploitables"><aside class="declaration">var </aside>view_exploitables <aside>– </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/modular_skyrat/master_files/code/modules/antagonists/_common/antag_datum.dm#L3"><img src="git.png" width="16" height="16" title="modular_skyrat/master_files/code/modules/antagonists/_common/antag_datum.dm 3"></a></h3><p>Should this antagonist be allowed to view exploitable information?</p><h2 id="proc">Proc Details</h2><h3 id="proc/add_team_hud"><aside class="declaration">proc </aside>add_team_hud<aside>(/<a href="mob.html">mob</a>/target, antag_to_check)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L522"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 522"></a></aside></h3><p>Adds a HUD that will show you other members with the same antagonist.
If an antag typepath is passed to <code>antag_to_check</code>, will check that, otherwise will use the source type.</p><h3 id="proc/admin_add"><aside class="declaration">proc </aside>admin_add<aside>(/<a href="datum.html">datum</a>/<a href="datum/mind.html">mind</a>/new_owner, /<a href="mob.html">mob</a>/admin)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L436"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 436"></a></aside></h3><p>Called when using admin tools to give antag status</p><h3 id="proc/admin_remove"><aside class="declaration">proc </aside>admin_remove<aside>(/<a href="mob.html">mob</a>/user)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L442"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 442"></a></aside></h3><p>Called when removing antagonist using admin tools</p><h3 id="proc/antag_panel_data"><aside class="declaration">proc </aside>antag_panel_data<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L455"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 455"></a></aside></h3><p>Additional data to display in the antagonist panel section.
For example, nuke disk code, genome count, etc</p><h3 id="proc/clear_antag_moodies"><aside class="declaration">proc </aside>clear_antag_moodies<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L377"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 377"></a></aside></h3><p>Proc that removes this antagonist's ascribed moodlet from the player.</p><h3 id="proc/farewell"><aside class="declaration">proc </aside>farewell<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L362"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 362"></a></aside></h3><p>Proc that sends fluff or instructional messages to the player when they lose this antag datum.
Use this proc for playing sounds, sending alerts, or otherwise informing the player that they're no longer a specific antagonist type.</p><h3 id="proc/finish_preview_icon"><aside class="declaration">proc </aside>finish_preview_icon<aside>(/icon/icon)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L486"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 486"></a></aside></h3><p>Given an icon, will crop it to be consistent of those in the preferences menu.
Not necessary, and in fact will look bad if it's anything other than a human.</p><h3 id="proc/forge_objectives"><aside class="declaration">proc </aside>forge_objectives<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L559"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 559"></a></aside></h3><p>Used to create objectives for the antagonist.</p><h3 id="proc/get_admin_commands"><aside class="declaration">proc </aside>get_admin_commands<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L467"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 467"></a></aside></h3><p>List of [&quot;Command&quot;] = CALLBACK(), user will be appeneded to callback arguments on execution</p><h3 id="proc/get_objectives"><aside class="declaration">proc </aside>get_objectives<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L544"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 544"></a></aside></h3><p>generic helper to send objectives as data through tgui.</p><h3 id="proc/get_preview_icon"><aside class="declaration">proc </aside>get_preview_icon<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L500"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 500"></a></aside></h3><p>Returns the icon to show on the preferences menu.</p><h3 id="proc/get_team"><aside class="declaration">proc </aside>get_team<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L385"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 385"></a></aside></h3><p>Proc that will return the team this antagonist belongs to, when called. Helpful with antagonists that may belong to multiple potential teams in a single round.</p><h3 id="proc/give_antag_moodies"><aside class="declaration">proc </aside>give_antag_moodies<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L369"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 369"></a></aside></h3><p>Proc that assigns this antagonist's ascribed moodlet to the player.</p><h3 id="proc/greet"><aside class="declaration">proc </aside>greet<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L345"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 345"></a></aside></h3><p>Proc that sends fluff or instructional messages to the player when they are given this antag datum.
Use this proc for playing sounds, sending alerts, or helping to setup non-gameplay influencing aspects of the antagonist type.</p><h3 id="proc/handle_clown_mutation"><aside class="declaration">proc </aside>handle_clown_mutation<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_override, message, removing)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L225"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 225"></a></aside></h3><p>Handles adding and removing the clumsy mutation from clown antags. Gets called in apply/remove_innate_effects</p><h3 id="proc/hijack_speed"><aside class="declaration">proc </aside>hijack_speed<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L516"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 516"></a></aside></h3><p>Gets how fast we can hijack the shuttle, return 0 for can not hijack.
Defaults to hijack_speed var, override for custom stuff like buffing hijack speed for hijack objectives or something.</p><h3 id="proc/hud_image_on"><aside class="declaration">proc </aside>hud_image_on<aside>(/<a href="mob.html">mob</a>/hud_loc)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L538"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 538"></a></aside></h3><p>Takes a location, returns an image drawing &quot;on&quot; it that matches this antag datum's hud icon</p><h3 id="proc/is_banned"><aside class="declaration">proc </aside>is_banned<aside>(/<a href="mob.html">mob</a>/player)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L285"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 285"></a></aside></h3><p>Proc that checks the sent mob aganst the banlistfor this antagonist.
Returns FALSE if no mob is sent, or the mob is not found to be banned.</p>
<ul>
<li>mob/player: The mob that you are looking for on the banlist.</li>
</ul><h3 id="proc/on_body_transfer"><aside class="declaration">proc </aside>on_body_transfer<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/old_body, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/new_body)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L193"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 193"></a></aside></h3><p>Called by the transfer_to() mind proc after the mind (mind.current and new_character.mind) has moved but before the player (key and client) is transferred.</p><h3 id="proc/on_mindshield"><aside class="declaration">proc </aside>on_mindshield<aside>(/<a href="mob.html">mob</a>/implanter, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_override)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L220"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 220"></a></aside></h3><p>This is called when the antagonist is successfully mindshielded.</p><h3 id="proc/play_stinger"><aside class="declaration">proc </aside>play_stinger<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L352"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 352"></a></aside></h3><p>Plays the antag stinger sound, if we have one</p><h3 id="proc/pre_mindshield"><aside class="declaration">proc </aside>pre_mindshield<aside>(/<a href="mob.html">mob</a>/implanter, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/mob_override)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L215"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 215"></a></aside></h3><p>This is called when the antagonist is being mindshielded.</p><h3 id="proc/render_preview_outfit"><aside class="declaration">proc </aside>render_preview_outfit<aside>(/<a href="datum.html">datum</a>/<a href="datum/outfit.html">outfit</a>/outfit, /<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/<a href="mob/living/carbon.html">carbon</a>/<a href="mob/living/carbon/human.html">human</a>/dummy)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L473"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 473"></a></aside></h3><p>Creates an icon from the preview outfit.
Custom implementors of <code>get_preview_icon</code> should use this, as the
result of <code>get_preview_icon</code> is expected to be the completed version.</p><h3 id="proc/replace_banned_player"><aside class="declaration">proc </aside>replace_banned_player<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L298"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 298"></a></aside></h3><p>Proc that replaces a player who cannot play a specific antagonist due to being banned via a poll, and alerts the player of their being on the banlist.</p><h3 id="proc/roundend_report"><aside class="declaration">proc </aside>roundend_report<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L393"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 393"></a></aside></h3><p>Proc that sends string information for the end-round report window to the server.
This runs on every instance of every antagonist that exists at the end of the round.
This is the body of the message, sandwiched between roundend_report_header and roundend_report_footer.</p><h3 id="proc/roundend_report_footer"><aside class="declaration">proc </aside>roundend_report_footer<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L429"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 429"></a></aside></h3><p>Proc that sends string data for the round-end report.
Displayed after roundend_report and roundend_report_footer.
Appears at the end of the roundend_catagory section.</p><h3 id="proc/roundend_report_header"><aside class="declaration">proc </aside>roundend_report_header<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L421"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 421"></a></aside></h3><p>Proc that sends string data for the round-end report.
Displayed before roundend_report and roundend_report_footer.
Appears at start of roundend_catagory section.</p><h3 id="proc/submit_player_objective"><aside class="declaration">proc </aside>submit_player_objective<aside>(retain_existing, retain_escape, force)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L568"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 568"></a></aside></h3><p>Allows player to replace their objectives with a new one they wrote themselves.</p>
<ul>
<li>retain_existing - If true, will just be added as a new objective instead of replacing existing ones.</li>
<li>retain_escape - If true, will retain specifically 'escape alive' objectives (or similar)</li>
<li>force - Skips the check about whether this antagonist is supposed to set its own objectives, for badminning</li>
</ul><h3 id="proc/ui_interact"><aside class="parent"><a title="/datum" href="datum.html#proc/ui_interact">↑</a></aside>ui_interact<aside>(/<a href="mob.html">mob</a>/user, /<a href="datum.html">datum</a>/<a href="datum/tgui.html">tgui</a>/ui)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/antagonists/_common/antag_datum.dm#L125"><img src="git.png" width="16" height="16" title="code/modules/antagonists/_common/antag_datum.dm 125"></a></aside></h3><p>ANTAGONIST UI STUFF</p></main><footer>tgstation.dme <a href="https://github.com/Skyrat-SS13/Skyrat-tg/tree/e507f9120bb0c3beecfe169d14193d90e7229a58">e507f91</a> (master) — <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>