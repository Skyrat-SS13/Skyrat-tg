<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="dmdoc.css"><title>/area - /tg/ Station 13</title></head><body><header><a href="index.html">/tg/ Station 13</a> - <a href="index.html#modules">Modules</a> - <a href="index.html#types">Types</a> â€” <a href="area.html#var">Var Details</a> - <a href="area.html#proc">Proc Details</a></header><main><h1>area <aside>/<a href="area.html">area</a></aside><aside> inherits /<a href="atom.html">atom</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L6"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 6"></a></h1><p>A grouping of tiles into a logical space, mostly used by map editors</p>
<p>This module sets airlocks in certain areas to be able to have an Engineer Override on orange alert.
Crew with ID cards with the engineering flag will be able to access these areas during those times.</p><table class="summary" cellspacing="0"><tr><td colspan="2"><h2>Vars</h2></td></tr><tr><th><a href="area.html#var/active_alarms">active_alarms</a></th><td>Alarm type to count of sources. Not usable for ^ because we handle fires differently</td></tr><tr><th><a href="area.html#var/active_firelocks">active_firelocks</a></th><td>A list of firelocks currently active. Used by fire alarms when setting their icons.</td></tr><tr><th><a href="area.html#var/air_scrubbers">air_scrubbers</a></th><td>List of all air scrubbers in the area</td></tr><tr><th><a href="area.html#var/air_vents">air_vents</a></th><td>List of all air vents in the area</td></tr><tr><th><a href="area.html#var/airlock_wires">airlock_wires</a></th><td>Wire assignment for airlocks in this area</td></tr><tr><th><a href="area.html#var/alarm_manager">alarm_manager</a></th><td>We use this just for fire alarms, because they're area based right now so one alarm going poof shouldn't prevent you from clearing your alarms listing. Fire alarms and fire locks will set and clear alarms.</td></tr><tr><th><a href="area.html#var/always_unpowered">always_unpowered</a></th><td>This gets overridden to 1 for space in area/.</td></tr><tr><th><a href="area.html#var/ambient_buzz">ambient_buzz</a></th><td>The background droning loop that plays 24/7</td></tr><tr><th><a href="area.html#var/ambient_buzz_vol">ambient_buzz_vol</a></th><td>The volume of the ambient buzz</td></tr><tr><th><a href="area.html#var/ambientsounds">ambientsounds</a></th><td>A list of sounds to pick from every so often to play to clients.</td></tr><tr><th><a href="area.html#var/area_has_base_lighting">area_has_base_lighting</a></th><td>Whether this area has a currently active base lighting, bool</td></tr><tr><th><a href="area.html#var/area_limited_icon_smoothing">area_limited_icon_smoothing</a></th><td>Typepath to limit the areas (subtypes included) that atoms in this area can smooth with. Used for shuttles.</td></tr><tr><th><a href="area.html#var/areasize">areasize</a></th><td>Size of the area in open turfs, only calculated for indoors areas.</td></tr><tr><th><a href="area.html#var/base_lighting_alpha">base_lighting_alpha</a></th><td>alpha 0-255 of lighting_effect and thus baselighting intensity</td></tr><tr><th><a href="area.html#var/base_lighting_color">base_lighting_color</a></th><td>The colour of the light acting on this area</td></tr><tr><th><a href="area.html#var/beauty">beauty</a></th><td>Beauty average per open turf in the area</td></tr><tr><th><a href="area.html#var/beauty_threshold">beauty_threshold</a></th><td>If a room is too big it doesn't have beauty.</td></tr><tr><th><a href="area.html#var/energy_usage">energy_usage</a></th><td>The energy usage of the area in the last machines SS tick.</td></tr><tr><th><a href="area.html#var/engineering_override_eligible">engineering_override_eligible</a></th><td>Is this area eligible for engineer override?</td></tr><tr><th><a href="area.html#var/fault_location">fault_location</a></th><td>The source machinery for the area's fault status</td></tr><tr><th><a href="area.html#var/fault_status">fault_status</a></th><td>The current alarm fault status</td></tr><tr><th><a href="area.html#var/fire">fire</a></th><td>Do we have an active fire alarm?</td></tr><tr><th><a href="area.html#var/fire_detect">fire_detect</a></th><td>A var for whether the area allows for detecting fires/etc. Disabled or enabled at a fire alarm, checked by fire locks.</td></tr><tr><th><a href="area.html#var/firealarms">firealarms</a></th><td>A list of all fire alarms in this area. Used by firelocks and burglar alarms to change icon state.</td></tr><tr><th><a href="area.html#var/firedoors">firedoors</a></th><td>A list of all fire locks in this area. Used by fire alarm panels when resetting fire locks or activating all in an area</td></tr><tr><th><a href="area.html#var/forced_ambience">forced_ambience</a></th><td>Does this area immediately play an ambience track upon enter?</td></tr><tr><th><a href="area.html#var/lighting_effects">lighting_effects</a></th><td>List of mutable appearances we underlay to show light
In the form plane offset + 1 -&gt; appearance to use</td></tr><tr><th><a href="area.html#var/lights">lights</a></th><td>List of all lights in our area</td></tr><tr><th><a href="area.html#var/map_generator">map_generator</a></th><td>This datum, if set, allows terrain generation behavior to be ran on Initialize()</td></tr><tr><th><a href="area.html#var/max_ambience_cooldown">max_ambience_cooldown</a></th><td>Used to decide what the maximum time between ambience is</td></tr><tr><th><a href="area.html#var/min_ambience_cooldown">min_ambience_cooldown</a></th><td>Used to decide what the minimum time between ambience is</td></tr><tr><th><a href="area.html#var/mood_bonus">mood_bonus</a></th><td>Bonus mood for being in this area</td></tr><tr><th><a href="area.html#var/mood_message">mood_message</a></th><td>Mood message for being here, only shows up if mood_bonus != 0</td></tr><tr><th><a href="area.html#var/mood_trait">mood_trait</a></th><td>Does the mood bonus require a trait?</td></tr><tr><th><a href="area.html#var/outdoors">outdoors</a></th><td>For space, the asteroid, lavaland, etc. Used with blueprints or with weather to determine if we are adding a new area (vs editing a station room)</td></tr><tr><th><a href="area.html#var/requires_power">requires_power</a></th><td>Will objects this area be needing power?</td></tr><tr><th><a href="area.html#var/sound_environment">sound_environment</a></th><td>Used to decide what kind of reverb the area makes sound have</td></tr><tr><th><a href="area.html#var/static_lighting">static_lighting</a></th><td>Whether this area allows static lighting and thus loads the lighting objects</td></tr><tr><th><a href="area.html#var/totalbeauty">totalbeauty</a></th><td>All beauty in this area combined, only includes indoor area.</td></tr><tr><th><a href="area.html#var/turfs_by_zlevel">turfs_by_zlevel</a></th><td>List of all turfs currently inside this area as nested lists indexed by zlevel.
Acts as a filtered version of area.contents For faster lookup
(area.contents is actually a filtered loop over world)
Semi fragile, but it prevents stupid so I think it's worth it</td></tr><tr><th><a href="area.html#var/turfs_to_uncontain_by_zlevel">turfs_to_uncontain_by_zlevel</a></th><td>turfs_by_z_level can hold MASSIVE lists, so rather then adding/removing from it each time we have a problem turf
We should instead store a list of turfs to REMOVE from it, then hook into a getter for it
There is a risk of this and contained_turfs leaking, so a subsystem will run it down to 0 incrementally if it gets too large
This uses the same nested list format as turfs_by_zlevel</td></tr><tr><td colspan="2"><h2>Procs</h2></td></tr><tr><th><a href="area.html#proc/AllowDrop">AllowDrop</a></th><td>Causes a runtime error</td></tr><tr><th><a href="area.html#proc/Destroy">Destroy</a></th><td>Destroy an area and clean it up</td></tr><tr><th><a href="area.html#proc/Entered">Entered</a></th><td>Call back when an atom enters an area</td></tr><tr><th><a href="area.html#proc/Exited">Exited</a></th><td>Called when an atom exits an area</td></tr><tr><th><a href="area.html#proc/LateInitialize">LateInitialize</a></th><td>Sets machine power levels in the area</td></tr><tr><th><a href="area.html#proc/New">New</a></th><td>Called when an area loads</td></tr><tr><th><a href="area.html#proc/PlaceOnTopReact">PlaceOnTopReact</a></th><td>A hook so areas can modify the incoming args (of what??)</td></tr><tr><th><a href="area.html#proc/RunTerrainGeneration">RunTerrainGeneration</a></th><td>Generate turfs, including cool cave wall gen</td></tr><tr><th><a href="area.html#proc/RunTerrainPopulation">RunTerrainPopulation</a></th><td>Populate the previously generated terrain with mobs and objects</td></tr><tr><th><a href="area.html#proc/addStaticPower">addStaticPower</a></th><td>Add a static amount of power load to an area. The value is assumed as the watt.</td></tr><tr><th><a href="area.html#proc/burglaralert">burglaralert</a></th><td>Raise a burglar alert for this area</td></tr><tr><th><a href="area.html#proc/cannonize_contained_turfs">cannonize_contained_turfs</a></th><td>Ensures that the contained_turfs list properly represents the turfs actually inside us</td></tr><tr><th><a href="area.html#proc/cannonize_contained_turfs_by_zlevel">cannonize_contained_turfs_by_zlevel</a></th><td>Ensures that the contained_turfs list properly represents the turfs actually inside us</td></tr><tr><th><a href="area.html#proc/clear_usage">clear_usage</a></th><td>Clear all non-static power usage in area</td></tr><tr><th><a href="area.html#proc/close_and_lock_door">close_and_lock_door</a></th><td>Close and lock a door passed into this proc</td></tr><tr><th><a href="area.html#proc/create_area_lighting_objects">create_area_lighting_objects</a></th><td>regenerates lighting objects for turfs in this area, primary use is VV changes</td></tr><tr><th><a href="area.html#proc/drop_location">drop_location</a></th><td>Causes a runtime error</td></tr><tr><th><a href="area.html#proc/get_highest_zlevel">get_highest_zlevel</a></th><td>Returns the highest zlevel that this area contains turfs for</td></tr><tr><th><a href="area.html#proc/get_original_area_name">get_original_area_name</a></th><td>Returns the name of an area, with the original name if the area name has been changed.</td></tr><tr><th><a href="area.html#proc/get_turfs_by_zlevel">get_turfs_by_zlevel</a></th><td>Returns a list with all turfs in this zlevel.</td></tr><tr><th><a href="area.html#proc/get_turfs_from_all_zlevels">get_turfs_from_all_zlevels</a></th><td>Merges a list containing all of the turfs zlevel lists from get_zlevel_turf_lists inside one list. Use get_zlevel_turf_lists() or get_turfs_by_zlevel() unless you need all the turfs in one list to avoid generating large lists</td></tr><tr><th><a href="area.html#proc/get_zlevel_turf_lists">get_zlevel_turf_lists</a></th><td>Returns a nested list of lists with all turfs split by zlevel.
only zlevels with turfs are returned. The order of the list is not guaranteed.</td></tr><tr><th><a href="area.html#proc/has_contained_turfs">has_contained_turfs</a></th><td>Returns TRUE if we have contained turfs, FALSE otherwise</td></tr><tr><th><a href="area.html#proc/on_joining_game">on_joining_game</a></th><td>Called when a living mob that spawned here, joining the round, receives the player client.</td></tr><tr><th><a href="area.html#proc/play_ambience">play_ambience</a></th><td>Attempts to play an ambient sound to a mob, returning the cooldown in deciseconds</td></tr><tr><th><a href="area.html#proc/power_change">power_change</a></th><td>Called when the area power status changes</td></tr><tr><th><a href="area.html#proc/powered">powered</a></th><td>Returns int 1 or 0 if the area has power for the given channel</td></tr><tr><th><a href="area.html#proc/reg_in_areas_in_z">reg_in_areas_in_z</a></th><td>Register this area as belonging to a z level</td></tr><tr><th><a href="area.html#proc/removeStaticPower">removeStaticPower</a></th><td>Remove a static amount of power load to an area. The value is assumed as the watt.</td></tr><tr><th><a href="area.html#proc/remove_area_lighting_objects">remove_area_lighting_objects</a></th><td>Removes lighting objects from turfs in this area if we have them, primary use is VV changes</td></tr><tr><th><a href="area.html#proc/set_fire_effect">set_fire_effect</a></th><td>Set the fire alarm visual affects in an area</td></tr><tr><th><a href="area.html#proc/setup">setup</a></th><td>Setup an area (with the given name)</td></tr><tr><th><a href="area.html#proc/update_areasize">update_areasize</a></th><td>Set the area size of the area</td></tr><tr><th><a href="area.html#proc/update_beauty">update_beauty</a></th><td>Divides total beauty in the room by roomsize to allow us to get an average beauty per tile.</td></tr><tr><th><a href="area.html#proc/update_icon_state">update_icon_state</a></th><td>Update the icon state of the area</td></tr><tr><th><a href="area.html#proc/use_energy">use_energy</a></th><td>Add a power value amount to the stored used_x variables</td></tr></table><h2 id="var">Var Details</h2><h3 id="var/active_alarms"><aside class="declaration">var </aside>active_alarms <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L40"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 40"></a></h3><p>Alarm type to count of sources. Not usable for ^ because we handle fires differently</p><h3 id="var/active_firelocks"><aside class="declaration">var </aside>active_firelocks <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L36"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 36"></a></h3><p>A list of firelocks currently active. Used by fire alarms when setting their icons.</p><h3 id="var/air_scrubbers"><aside class="declaration">var </aside>air_scrubbers <aside>â€“ /list/obj/machinery/atmospherics/components/unary/vent_scrubber</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L125"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 125"></a></h3><p>List of all air scrubbers in the area</p><h3 id="var/air_vents"><aside class="declaration">var </aside>air_vents <aside>â€“ /list/obj/machinery/atmospherics/components/unary/vent_pump</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L122"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 122"></a></h3><p>List of all air vents in the area</p><h3 id="var/airlock_wires"><aside class="declaration">var </aside>airlock_wires <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L113"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 113"></a></h3><p>Wire assignment for airlocks in this area</p><h3 id="var/alarm_manager"><aside class="declaration">var </aside>alarm_manager <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/alarm_handler.html">alarm_handler</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L48"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 48"></a></h3><p>We use this just for fire alarms, because they're area based right now so one alarm going poof shouldn't prevent you from clearing your alarms listing. Fire alarms and fire locks will set and clear alarms.</p><h3 id="var/always_unpowered"><aside class="declaration">var </aside>always_unpowered <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L75"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 75"></a></h3><p>This gets overridden to 1 for space in area/.</p><h3 id="var/ambient_buzz"><aside class="declaration">var </aside>ambient_buzz <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L94"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 94"></a></h3><p>The background droning loop that plays 24/7</p><h3 id="var/ambient_buzz_vol"><aside class="declaration">var </aside>ambient_buzz_vol <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L96"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 96"></a></h3><p>The volume of the ambient buzz</p><h3 id="var/ambientsounds"><aside class="declaration">var </aside>ambientsounds <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L90"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 90"></a></h3><p>A list of sounds to pick from every so often to play to clients.</p><h3 id="var/area_has_base_lighting"><aside class="declaration">var </aside>area_has_base_lighting <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/lighting_area.dm#L7"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_area.dm 7"></a></h3><p>Whether this area has a currently active base lighting, bool</p><h3 id="var/area_limited_icon_smoothing"><aside class="declaration">var </aside>area_limited_icon_smoothing <aside>â€“ /<a href="area.html">area</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L107"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 107"></a></h3><p>Typepath to limit the areas (subtypes included) that atoms in this area can smooth with. Used for shuttles.</p><h3 id="var/areasize"><aside class="declaration">var </aside>areasize <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L63"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 63"></a></h3><p>Size of the area in open turfs, only calculated for indoors areas.</p><h3 id="var/base_lighting_alpha"><aside class="declaration">var </aside>base_lighting_alpha <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/lighting_area.dm#L9"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_area.dm 9"></a></h3><p>alpha 0-255 of lighting_effect and thus baselighting intensity</p><h3 id="var/base_lighting_color"><aside class="declaration">var </aside>base_lighting_color <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/lighting_area.dm#L11"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_area.dm 11"></a></h3><p>The colour of the light acting on this area</p><h3 id="var/beauty"><aside class="declaration">var </aside>beauty <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L55"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 55"></a></h3><p>Beauty average per open turf in the area</p><h3 id="var/beauty_threshold"><aside class="declaration">var </aside>beauty_threshold <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L57"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 57"></a></h3><p>If a room is too big it doesn't have beauty.</p><h3 id="var/energy_usage"><aside class="declaration">var </aside>energy_usage <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L110"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 110"></a></h3><p>The energy usage of the area in the last machines SS tick.</p><h3 id="var/engineering_override_eligible"><aside class="declaration">var </aside>engineering_override_eligible <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/modular_skyrat/modules/airlock_override/code/airlock_override.dm#L8"><img src="git.png" width="16" height="16" title="modular_skyrat/modules/airlock_override/code/airlock_override.dm 8"></a></h3><p>Is this area eligible for engineer override?</p><h3 id="var/fault_location"><aside class="declaration">var </aside>fault_location <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L44"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 44"></a></h3><p>The source machinery for the area's fault status</p><h3 id="var/fault_status"><aside class="declaration">var </aside>fault_status <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L42"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 42"></a></h3><p>The current alarm fault status</p><h3 id="var/fire"><aside class="declaration">var </aside>fire <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L30"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 30"></a></h3><p>Do we have an active fire alarm?</p><h3 id="var/fire_detect"><aside class="declaration">var </aside>fire_detect <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L32"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 32"></a></h3><p>A var for whether the area allows for detecting fires/etc. Disabled or enabled at a fire alarm, checked by fire locks.</p><h3 id="var/firealarms"><aside class="declaration">var </aside>firealarms <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L38"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 38"></a></h3><p>A list of all fire alarms in this area. Used by firelocks and burglar alarms to change icon state.</p><h3 id="var/firedoors"><aside class="declaration">var </aside>firedoors <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L34"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 34"></a></h3><p>A list of all fire locks in this area. Used by fire alarm panels when resetting fire locks or activating all in an area</p><h3 id="var/forced_ambience"><aside class="declaration">var </aside>forced_ambience <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L92"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 92"></a></h3><p>Does this area immediately play an ambience track upon enter?</p><h3 id="var/lighting_effects"><aside class="declaration">var </aside>lighting_effects <aside>â€“ /list/mutable_appearance</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/lighting_area.dm#L5"><img src="git.png" width="16" height="16" title="code/modules/lighting/lighting_area.dm 5"></a></h3><p>List of mutable appearances we underlay to show light
In the form plane offset + 1 -&gt; appearance to use</p><h3 id="var/lights"><aside class="declaration">var </aside>lights <aside>â€“ /list</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L46"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 46"></a></h3><p>List of all lights in our area</p><h3 id="var/map_generator"><aside class="declaration">var </aside>map_generator <aside>â€“ /<a href="datum.html">datum</a>/<a href="datum/map_generator.html">map_generator</a></aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L116"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 116"></a></h3><p>This datum, if set, allows terrain generation behavior to be ran on Initialize()</p><h3 id="var/max_ambience_cooldown"><aside class="declaration">var </aside>max_ambience_cooldown <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L100"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 100"></a></h3><p>Used to decide what the maximum time between ambience is</p><h3 id="var/min_ambience_cooldown"><aside class="declaration">var </aside>min_ambience_cooldown <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L98"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 98"></a></h3><p>Used to decide what the minimum time between ambience is</p><h3 id="var/mood_bonus"><aside class="declaration">var </aside>mood_bonus <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L66"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 66"></a></h3><p>Bonus mood for being in this area</p><h3 id="var/mood_message"><aside class="declaration">var </aside>mood_message <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L68"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 68"></a></h3><p>Mood message for being here, only shows up if mood_bonus != 0</p><h3 id="var/mood_trait"><aside class="declaration">var </aside>mood_trait <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L70"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 70"></a></h3><p>Does the mood bonus require a trait?</p><h3 id="var/outdoors"><aside class="declaration">var </aside>outdoors <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L60"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 60"></a></h3><p>For space, the asteroid, lavaland, etc. Used with blueprints or with weather to determine if we are adding a new area (vs editing a station room)</p><h3 id="var/requires_power"><aside class="declaration">var </aside>requires_power <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L73"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 73"></a></h3><p>Will objects this area be needing power?</p><h3 id="var/sound_environment"><aside class="declaration">var </aside>sound_environment <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L119"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 119"></a></h3><p>Used to decide what kind of reverb the area makes sound have</p><h3 id="var/static_lighting"><aside class="declaration">var </aside>static_lighting <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/static_lighting_area.dm#L39"><img src="git.png" width="16" height="16" title="code/modules/lighting/static_lighting_area.dm 39"></a></h3><p>Whether this area allows static lighting and thus loads the lighting objects</p><h3 id="var/totalbeauty"><aside class="declaration">var </aside>totalbeauty <aside>â€“ </aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L53"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 53"></a></h3><p>All beauty in this area combined, only includes indoor area.</p><h3 id="var/turfs_by_zlevel"><aside class="declaration">var </aside>turfs_by_zlevel <aside>â€“ /list/list/turf</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L20"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 20"></a></h3><p>List of all turfs currently inside this area as nested lists indexed by zlevel.
Acts as a filtered version of area.contents For faster lookup
(area.contents is actually a filtered loop over world)
Semi fragile, but it prevents stupid so I think it's worth it</p><h3 id="var/turfs_to_uncontain_by_zlevel"><aside class="declaration">var </aside>turfs_to_uncontain_by_zlevel <aside>â€“ /list/list/turf</aside> <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L25"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 25"></a></h3><p>turfs_by_z_level can hold MASSIVE lists, so rather then adding/removing from it each time we have a problem turf
We should instead store a list of turfs to REMOVE from it, then hook into a getter for it
There is a risk of this and contained_turfs leaking, so a subsystem will run it down to 0 incrementally if it gets too large
This uses the same nested list format as turfs_by_zlevel</p><h2 id="proc">Proc Details</h2><h3 id="proc/AllowDrop"><aside class="parent"><a title="/atom" href="atom.html#proc/AllowDrop">â†‘</a></aside>AllowDrop<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L602"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 602"></a></aside></h3><p>Causes a runtime error</p><h3 id="proc/Destroy"><aside class="parent"><a title="/atom" href="atom.html#proc/Destroy">â†‘</a></aside>Destroy<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L349"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 349"></a></aside></h3><p>Destroy an area and clean it up</p>
<p>Removes the area from GLOB.areas_by_type and also stops it processing on SSobj</p>
<p>This is despite the fact that no code appears to put it on SSobj, but
who am I to argue with old coders</p><h3 id="proc/Entered"><aside class="parent"><a title="/atom" href="atom.html#proc/Entered">â†‘</a></aside>Entered<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/arrived, /<a href="area.html">area</a>/old_area)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L534"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 534"></a></aside></h3><p>Call back when an atom enters an area</p>
<p>Sends signals COMSIG_AREA_ENTERED and COMSIG_ENTER_AREA (to a list of atoms)</p>
<p>If the area has ambience, then it plays some ambience music to the ambience channel</p><h3 id="proc/Exited"><aside class="parent"><a title="/atom" href="atom.html#proc/Exited">â†‘</a></aside>Exited<aside>(/<a href="atom.html">atom</a>/<a href="atom/movable.html">movable</a>/gone, direction)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L552"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 552"></a></aside></h3><p>Called when an atom exits an area</p>
<p>Sends signals COMSIG_AREA_EXITED and COMSIG_EXIT_AREA (to a list of atoms)</p><h3 id="proc/LateInitialize"><aside class="parent"><a title="/atom" href="atom.html#proc/LateInitialize">â†‘</a></aside>LateInitialize<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L207"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 207"></a></aside></h3><p>Sets machine power levels in the area</p><h3 id="proc/New"><aside class="parent"><a title="/atom" href="atom.html#proc/New">â†‘</a></aside>New<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L160"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 160"></a></aside></h3><p>Called when an area loads</p>
<p>Adds the item to the GLOB.areas_by_type list based on area type</p><h3 id="proc/PlaceOnTopReact"><aside class="declaration">proc </aside>PlaceOnTopReact<aside>(/list/new_baseturfs, /<a href="turf.html">turf</a>/fake_turf_type, flags)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L612"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 612"></a></aside></h3><p>A hook so areas can modify the incoming args (of what??)</p><h3 id="proc/RunTerrainGeneration"><aside class="declaration">proc </aside>RunTerrainGeneration<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L212"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 212"></a></aside></h3><p>Generate turfs, including cool cave wall gen</p><h3 id="proc/RunTerrainPopulation"><aside class="declaration">proc </aside>RunTerrainPopulation<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L221"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 221"></a></aside></h3><p>Populate the previously generated terrain with mobs and objects</p><h3 id="proc/addStaticPower"><aside class="declaration">proc </aside>addStaticPower<aside>(value, powerchannel)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L485"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 485"></a></aside></h3><p>Add a static amount of power load to an area. The value is assumed as the watt.</p>
<p>Possible channels
*AREA_USAGE_STATIC_EQUIP
*AREA_USAGE_STATIC_LIGHT
*AREA_USAGE_STATIC_ENVIRON</p><h3 id="proc/burglaralert"><aside class="declaration">proc </aside>burglaralert<aside>(/<a href="obj.html">obj</a>/trigger)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L390"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 390"></a></aside></h3><p>Raise a burglar alert for this area</p>
<p>Close and locks all doors in the area and alerts silicon mobs of a break in</p>
<p>Alarm auto resets after 600 ticks</p><h3 id="proc/cannonize_contained_turfs"><aside class="declaration">proc </aside>cannonize_contained_turfs<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L306"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 306"></a></aside></h3><p>Ensures that the contained_turfs list properly represents the turfs actually inside us</p><h3 id="proc/cannonize_contained_turfs_by_zlevel"><aside class="declaration">proc </aside>cannonize_contained_turfs_by_zlevel<aside>(zlevel_to_clean, _autoclean)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L278"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 278"></a></aside></h3><p>Ensures that the contained_turfs list properly represents the turfs actually inside us</p><h3 id="proc/clear_usage"><aside class="declaration">proc </aside>clear_usage<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L510"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 510"></a></aside></h3><p>Clear all non-static power usage in area</p>
<p>Clears all power used for the dynamic equipment, light and environment channels</p><h3 id="proc/close_and_lock_door"><aside class="declaration">proc </aside>close_and_lock_door<aside>(/<a href="obj.html">obj</a>/<a href="obj/machinery.html">machinery</a>/<a href="obj/machinery/door.html">door</a>/DOOR)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L377"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 377"></a></aside></h3><p>Close and lock a door passed into this proc</p>
<p>Does this need to exist on area? probably not</p><h3 id="proc/create_area_lighting_objects"><aside class="declaration">proc </aside>create_area_lighting_objects<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/static_lighting_area.dm#L46"><img src="git.png" width="16" height="16" title="code/modules/lighting/static_lighting_area.dm 46"></a></aside></h3><p>regenerates lighting objects for turfs in this area, primary use is VV changes</p><h3 id="proc/drop_location"><aside class="parent"><a title="/atom" href="atom.html#proc/drop_location">â†‘</a></aside>drop_location<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L608"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 608"></a></aside></h3><p>Causes a runtime error</p><h3 id="proc/get_highest_zlevel"><aside class="declaration">proc </aside>get_highest_zlevel<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L236"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 236"></a></aside></h3><p>Returns the highest zlevel that this area contains turfs for</p><h3 id="proc/get_original_area_name"><aside class="declaration">proc </aside>get_original_area_name<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L627"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 627"></a></aside></h3><p>Returns the name of an area, with the original name if the area name has been changed.</p>
<p>If an area has not been renamed, returns the area name. If it has been modified (by blueprints or other means)
returns the current name, as well as the initial value, in the format of [Current Location Name (Original Name)]</p><h3 id="proc/get_turfs_by_zlevel"><aside class="declaration">proc </aside>get_turfs_by_zlevel<aside>(zlevel)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L261"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 261"></a></aside></h3><p>Returns a list with all turfs in this zlevel.</p><h3 id="proc/get_turfs_from_all_zlevels"><aside class="declaration">proc </aside>get_turfs_from_all_zlevels<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L272"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 272"></a></aside></h3><p>Merges a list containing all of the turfs zlevel lists from get_zlevel_turf_lists inside one list. Use get_zlevel_turf_lists() or get_turfs_by_zlevel() unless you need all the turfs in one list to avoid generating large lists</p><h3 id="proc/get_zlevel_turf_lists"><aside class="declaration">proc </aside>get_zlevel_turf_lists<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L248"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 248"></a></aside></h3><p>Returns a nested list of lists with all turfs split by zlevel.
only zlevels with turfs are returned. The order of the list is not guaranteed.</p><h3 id="proc/has_contained_turfs"><aside class="declaration">proc </aside>has_contained_turfs<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L314"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 314"></a></aside></h3><p>Returns TRUE if we have contained turfs, FALSE otherwise</p><h3 id="proc/on_joining_game"><aside class="declaration">proc </aside>on_joining_game<aside>(/<a href="mob.html">mob</a>/<a href="mob/living.html">living</a>/boarder)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L617"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 617"></a></aside></h3><p>Called when a living mob that spawned here, joining the round, receives the player client.</p><h3 id="proc/play_ambience"><aside class="declaration">proc </aside>play_ambience<aside>(/<a href="mob.html">mob</a>/M, /sound/override_sound, volume)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/controllers/subsystem/ambience.dm#L55"><img src="git.png" width="16" height="16" title="code/controllers/subsystem/ambience.dm 55"></a></aside></h3><p>Attempts to play an ambient sound to a mob, returning the cooldown in deciseconds</p><h3 id="proc/power_change"><aside class="declaration">proc </aside>power_change<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L472"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 472"></a></aside></h3><p>Called when the area power status changes</p>
<p>Updates the area icon, calls power change on all machinees in the area, and sends the <code>COMSIG_AREA_POWER_CHANGE</code> signal.</p><h3 id="proc/powered"><aside class="declaration">proc </aside>powered<aside>(chan)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L445"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 445"></a></aside></h3><p>Returns int 1 or 0 if the area has power for the given channel</p>
<p>evaluates a mixture of variables mappers can set, requires_power, always_unpowered and then
per channel power_equip, power_light, power_environ</p><h3 id="proc/reg_in_areas_in_z"><aside class="declaration">proc </aside>reg_in_areas_in_z<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L329"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 329"></a></aside></h3><p>Register this area as belonging to a z level</p>
<p>Ensures the item is added to the SSmapping.areas_in_z list for this z</p><h3 id="proc/removeStaticPower"><aside class="declaration">proc </aside>removeStaticPower<aside>(value, powerchannel)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L499"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 499"></a></aside></h3><p>Remove a static amount of power load to an area. The value is assumed as the watt.</p>
<p>Possible channels
*AREA_USAGE_STATIC_EQUIP
*AREA_USAGE_STATIC_LIGHT
*AREA_USAGE_STATIC_ENVIRON</p><h3 id="proc/remove_area_lighting_objects"><aside class="declaration">proc </aside>remove_area_lighting_objects<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/modules/lighting/static_lighting_area.dm#L54"><img src="git.png" width="16" height="16" title="code/modules/lighting/static_lighting_area.dm 54"></a></aside></h3><p>Removes lighting objects from turfs in this area if we have them, primary use is VV changes</p><h3 id="proc/set_fire_effect"><aside class="declaration">proc </aside>set_fire_effect<aside>(new_fire, fault_type, fault_source)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L403"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 403"></a></aside></h3><p>Set the fire alarm visual affects in an area</p>
<p>Allows interested parties (lights and fire alarms) to react</p><h3 id="proc/setup"><aside class="declaration">proc </aside>setup<aside>(a_name)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L577"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 577"></a></aside></h3><p>Setup an area (with the given name)</p>
<p>Sets the area name, sets all status var's to false and adds the area to the sorted area list</p><h3 id="proc/update_areasize"><aside class="declaration">proc </aside>update_areasize<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L591"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 591"></a></aside></h3><p>Set the area size of the area</p>
<p>This is the number of open turfs in the area contents, or FALSE if the outdoors var is set</p><h3 id="proc/update_beauty"><aside class="declaration">proc </aside>update_beauty<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L562"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 562"></a></aside></h3><p>Divides total beauty in the room by roomsize to allow us to get an average beauty per tile.</p><h3 id="proc/update_icon_state"><aside class="parent"><a title="/atom" href="atom.html#proc/update_icon_state">â†‘</a></aside>update_icon_state<aside>()  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L420"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 420"></a></aside></h3><p>Update the icon state of the area</p>
<p>I'm not sure what the heck this does, something to do with weather being able to set icon
states on areas?? where the heck would that even display?</p><h3 id="proc/use_energy"><aside class="declaration">proc </aside>use_energy<aside>(amount, chan)  <a href="https://github.com/Skyrat-SS13/Skyrat-tg/blob/e507f9120bb0c3beecfe169d14193d90e7229a58/code/game/area/areas.dm#L520"><img src="git.png" width="16" height="16" title="code/game/area/areas.dm 520"></a></aside></h3><p>Add a power value amount to the stored used_x variables</p></main><footer>tgstation.dme <a href="https://github.com/Skyrat-SS13/Skyrat-tg/tree/e507f9120bb0c3beecfe169d14193d90e7229a58">e507f91</a> (master) â€” <a href="https://github.com/SpaceManiac/SpacemanDMM/blob/master/crates/dmdoc/README.md">dmdoc 1.9.0</a></footer></body></html>